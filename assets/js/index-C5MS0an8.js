const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/ServiceDetailModal-DKid7LEH.js","assets/js/react-vendor-BTtMfXVs.js","assets/js/vendor-BOHXtaP9.js","assets/js/radix-ui-ByoYm48K.js","assets/js/router-BGylx-d0.js","assets/js/ui-components-DRL8qVLK.js","assets/js/forms-eZP0p4fM.js","assets/js/service-detail-DrBnK-T7.js","assets/js/admin-page-B4iVN83z.js","assets/js/auth-page-BdKqPmLk.js","assets/js/framer-motion-GQOg19sT.js","assets/js/info-page-Cpy4XKsZ.js","assets/js/updates-page-zlqzKN-R.js","assets/js/account-dashboard-CjmpTYAV.js","assets/js/reset-password-CmcYLMlY.js","assets/js/reset-confirm-uPnic2Vb.js","assets/js/forgot-password-CYyIRJeh.js","assets/js/reset-success-CA4kbQEr.js"])))=>i.map(i=>d[i]);
import{j as e,a7 as s,r as t,a8 as a,a9 as n,aa as r,ab as i,ac as o,ad as l,ae as c,af as d,ag as u,ah as m,ai as h,aj as x,ak as p,al as f,am as g,an as v,ao as j,ap as b,aq as w,ar as y,as as N,at as k,au as C,av as E,aw as S,ax as L,ay as _,az as T,aA as P,aB as I,aC as M,aD as D,aE as O,aF as A,aG as $,aH as F,aI as z,aJ as R,aK as q,aL as V}from"./react-vendor-BTtMfXVs.js";import{u as K,L as H,R as B,a as W,S as Q,b as U}from"./router-BGylx-d0.js";import{C as J,a as Y,u as G,T as X,t as Z,D as ee,b as se,c as te,d as ae,e as ne,L as re,S as ie,f as oe,g as le,h as ce,i as de,j as ue,k as me,l as he,m as xe,n as pe,B as fe,o as ge,p as ve,q as je,r as be,s as we,v as ye}from"./ui-components-DRL8qVLK.js";import{ad as Ne,ae as ke,af as Ce,ag as Ee,ah as Se,ai as Le}from"./vendor-BOHXtaP9.js";import{c as _e,o as Te,n as Pe,e as Ie,s as Me}from"./forms-eZP0p4fM.js";import"./radix-ui-ByoYm48K.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const De={},Oe=function(e,s,t){let a=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),t=e?.nonce||e?.getAttribute("nonce");n=s.map(e=>{if((e=function(e){return"/siteprova/"+e}(e))in De)return;De[e]=!0;const s=e.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=s?"stylesheet":"modulepreload",s||(n.as="script"),n.crossOrigin="",n.href=e,t&&n.setAttribute("nonce",t),document.head.appendChild(n),s?new Promise((s,t)=>{n.addEventListener("load",s),n.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0}),a=Promise.all(n.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var n;function r(e){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e}return a.then(s=>{for(const e of s||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})};function Ae(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(J,{className:"w-full max-w-md mx-4",children:e.jsxs(Y,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(s,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}async function $e(e){if(!e.ok){const s=await e.text()||e.statusText;throw new Error(`${e.status}: ${s}`)}}async function Fe(e,s,t){const a=(s.startsWith("/api"),s),n=await fetch(a,{method:e,headers:t?{"Content-Type":"application/json"}:{},body:t?JSON.stringify(t):void 0,credentials:"include"});return await $e(n),n}const ze=({on401:e})=>async({queryKey:s})=>{const t=s[0],a=(t.startsWith("/api"),t),n=await fetch(a,{credentials:"include"});return"returnNull"===e&&401===n.status?null:(await $e(n),await n.json())},Re=new Ne({defaultOptions:{queries:{queryFn:ze({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:3e5,gcTime:6e5,retry:1,retryDelay:1e3},mutations:{retry:!1}}}),qe=t.createContext(null);function Ve({children:s}){const{toast:t}=G(),[,i]=K(),o=a(),{data:l,error:c,isLoading:d}=n({queryKey:["/api/user"],queryFn:ze({on401:"returnNull"})}),u=r({mutationFn:async e=>{const s=await Fe("POST","/api/login",e);return await s.json()},onSuccess:async e=>{o.setQueryData(["/api/user"],e),await(async()=>{const e=localStorage.getItem("favorites");if(!e)return;const s=JSON.parse(e);if(Array.isArray(s)&&0!==s.length){for(const e of s)try{await Fe("POST",`/api/favorites/${e}`)}catch(t){}localStorage.removeItem("favorites")}})(),o.invalidateQueries({queryKey:["favorites"]}),t({title:"Login successful",description:`Welcome back, ${e.username}!`})},onError:s=>{let a="Login failed. Please check your credentials and try again.",n=null;if(s instanceof Error){const e=s.message.split(/:\s*(\{[\s\S]*$)/);if(e.length>=2){const t=e[1];try{const e=JSON.parse(t);e&&e.message?a="Password non valida"===e.message?"Email o password non corretti.":String(e.message):n=String(e)}catch{n=s.message}}else n=s.message}else"string"==typeof s&&(a=s);t({title:"Accesso non riuscito",description:a||"Email o password non corretti. Riprova oppure recupera la password.",variant:"default",className:"bg-gray-900 text-white border-orange-600/60 shadow-orange-500/30",action:e.jsx(X,{asChild:!0,altText:"Recupera password",children:e.jsx("button",{onClick:()=>i("/forgot-password"),className:"border-orange-600 text-orange-300 hover:bg-orange-600/20",children:"Recupera password"})}),duration:9e3})}}),m=r({mutationFn:async e=>{const s=await Fe("POST","/api/register",e);return await s.json()},onSuccess:e=>{o.setQueryData(["/api/user"],e),t({title:"Registration successful",description:`Welcome, ${e.username}!`})},onError:e=>{t({title:"Registration failed",description:e.message,variant:"destructive"})}}),h=r({mutationFn:async()=>{await Fe("POST","/api/logout")},onSuccess:()=>{o.setQueryData(["/api/user"],null),t({title:"Logged out",description:"You have been successfully logged out."})},onError:e=>{t({title:"Logout failed",description:e.message,variant:"destructive"})}}),x=l??null;return e.jsx(qe.Provider,{value:{user:x,isLoading:d,error:c,loginMutation:u,logoutMutation:h,registerMutation:m},children:s})}function Ke(){const e=t.useContext(qe);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}async function He(e,s,t){const a={method:e,headers:{"Content-Type":"application/json"},credentials:"include"};t&&(a.body=JSON.stringify(t));const n=(window.location.hostname,"");let r;r=s.startsWith("http")?s:s.startsWith("/api")?n?`${n}${s}`:s:n?`${n}/api${s}`:`/api${s}`;const i=await fetch(r,a);if(!i.ok){let e=null;try{e=await i.text()}catch(o){}const s=(()=>{if(!e)return`Errore ${i.status}: ${i.statusText}`;try{const s=JSON.parse(e);return s&&s.message?s.message:JSON.stringify(s)}catch(o){return e}})();if(401===i.status||403===i.status)throw new Error(`Authentication error (${i.status}): ${s}`);throw new Error(s||`Errore ${i.status}: ${i.statusText}`)}return i}const Be=t.createContext(void 0);function We({children:s}){const[i,o]=t.useState("system"),[l,c]=t.useState("en"),[d,u]=t.useState([]),{toast:m}=G(),h=a(),{user:x}=Ke(),p=Z[l]??Z.en;t.useEffect(()=>{const e=localStorage.getItem("theme"),s=localStorage.getItem("language"),t=localStorage.getItem("favorites");if(e&&["light","dark","system"].includes(e)&&o(e),s&&["en","it","es","fr","de","zh","ja","pt","ru"].includes(s)&&c(s),t)try{u(JSON.parse(t))}catch(a){}},[]);const{data:f}=n({queryKey:["userSettings"],queryFn:async()=>x?He("GET","/api/user/settings"):null,enabled:!!x}),g=r({mutationFn:async e=>{if(localStorage.setItem("theme",e),x)return He("PATCH","/api/user/settings",{theme:e})},onSuccess:()=>{h.invalidateQueries({queryKey:["userSettings"]})}}),v=r({mutationFn:async e=>{if(localStorage.setItem("language",e),x)return He("PATCH","/api/user/settings",{language:e})},onSuccess:()=>{h.invalidateQueries({queryKey:["userSettings"]})}}),j=r({mutationFn:async e=>{if(localStorage.setItem("favorites",JSON.stringify(e)),x)return He("PATCH","/api/user/settings",{favorites:e})},onSuccess:()=>{h.invalidateQueries({queryKey:["userSettings"]})}}),b=e=>{const s=String(e);if(!d.includes(s)){const e=[...d,s];u(e),j.mutate(e),m({title:p.success,description:p.addToFavorites})}},w=e=>{const s=String(e),t=d.filter(e=>e!==s);u(t),j.mutate(t),m({title:p.success,description:p.removeFromFavorites})},y=b,N=w;return e.jsx(Be.Provider,{value:{theme:i,setTheme:e=>{o(e),g.mutate(e)},language:l,setLanguage:e=>{c(e),v.mutate(e)},t:p,favorites:d,addToFavorites:b,removeFromFavorites:w,addFavorite:y,removeFavorite:N,isFavorite:e=>d.includes(String(e))},children:s})}function Qe(){const e=t.useContext(Be);if(void 0===e)throw new Error("useSettings must be used within a SettingsProvider");return e}const Ue="operational",Je={USER:"user",ADMIN:"admin"},Ye=ke("categories",{id:Ee("id").primaryKey(),name:Ce("name").notNull().unique(),icon:Ce("icon").notNull(),slug:Ce("slug").notNull().unique()}),Ge=ke("services",{id:Ee("id").primaryKey(),name:Ce("name").notNull(),logo:Ce("logo").notNull(),categoryId:Se("category_id").notNull(),status:Ce("status").notNull().default(Ue),responseTime:Se("response_time").default(0),lastChecked:Le("last_checked").defaultNow(),uptimePercentage:Se("uptime_percentage").default(100),slug:Ce("slug").notNull().unique()}),Xe=ke("uptime_history",{id:Ee("id").primaryKey(),serviceId:Se("service_id").notNull(),date:Le("date").notNull(),uptimePercentage:Se("uptime_percentage").notNull(),status:Ce("status").notNull(),responseTime:Se("response_time").default(0),downtimeMinutes:Se("downtime_minutes").default(0)}),Ze=ke("incidents",{id:Ee("id").primaryKey(),serviceId:Se("service_id").notNull(),title:Ce("title").notNull(),description:Ce("description").notNull(),startTime:Le("start_time").notNull(),endTime:Le("end_time"),status:Ce("status").notNull()}),es=ke("users",{id:Ee("id").primaryKey(),username:Ce("username").notNull().unique(),password:Ce("password").notNull(),email:Ce("email").notNull().unique(),role:Ce("role").notNull().default(Je.USER),createdAt:Le("created_at").defaultNow()});ke("favorites",{id:Ee("id").primaryKey(),userId:Se("user_id").notNull().references(()=>es.id,{onDelete:"cascade"}),serviceId:Se("service_id").notNull().references(()=>Ge.id,{onDelete:"cascade"}),createdAt:Le("created_at").defaultNow()}),ke("password_resets",{id:Ee("id").primaryKey(),userId:Se("user_id").notNull().references(()=>es.id,{onDelete:"cascade"}),token:Ce("token").notNull().unique(),expiresAt:Le("expires_at").notNull(),createdAt:Le("created_at").defaultNow()}),_e(Ye).pick({name:!0,icon:!0,slug:!0}),_e(Ge).pick({name:!0,logo:!0,categoryId:!0,status:!0,responseTime:!0,slug:!0}),_e(Xe).pick({serviceId:!0,date:!0,uptimePercentage:!0,status:!0,responseTime:!0,downtimeMinutes:!0}),_e(Ze).pick({serviceId:!0,title:!0,description:!0,startTime:!0,endTime:!0,status:!0}),Te({status:Ie([Ue,"degraded","down"]),responseTime:Pe().optional()}),_e(es).pick({username:!0,password:!0,email:!0,role:!0}).extend({password:Me().min(6,"La password deve essere di almeno 6 caratteri"),email:Me().email("Inserisci un'email valida")}),Te({username:Me().email("Inserisci un'email valida"),password:Me().min(6,"La password deve essere di almeno 6 caratteri")});const ss=t.memo(function({open:s,onOpenChange:a,services:n}){const{theme:r,setTheme:c,language:d,setLanguage:u,t:m}=Qe(),h=t.useDeferredValue(r),x=t.useDeferredValue(d),p=t.useCallback(e=>{c(e)},[c]),f=t.useCallback(e=>{u(e)},[u]);return t.useEffect(()=>{const e=window.document.documentElement;if(e.classList.remove("light","dark"),"system"===h){const s=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(s)}else e.classList.add(h)},[h]),t.useEffect(()=>{document.documentElement.lang=x},[x]),t.useEffect(()=>{const e=()=>a(!0);return window.addEventListener("open-settings-dialog",e),()=>window.removeEventListener("open-settings-dialog",e)},[a]),e.jsx(ee,{open:s,onOpenChange:a,children:e.jsxs(se,{className:"sm:max-w-[425px]",children:[e.jsxs(te,{className:"space-y-3",children:[e.jsx(ae,{children:m.settings}),e.jsx(ne,{children:m.settingsDescription})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{htmlFor:"theme",className:"text-base font-medium",children:m.theme}),e.jsxs(ie,{value:r,onValueChange:p,children:[e.jsx(oe,{id:"theme",className:"w-full",children:e.jsx(le,{placeholder:m.selectTheme})}),e.jsxs(ce,{children:[e.jsx(de,{value:"system",className:"flex items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"h-4 w-4"}),e.jsx("span",{children:m.system})]})}),e.jsx(de,{value:"light",className:"flex items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{className:"h-4 w-4"}),e.jsx("span",{children:m.light})]})}),e.jsx(de,{value:"dark",className:"flex items-center",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"h-4 w-4"}),e.jsx("span",{children:m.dark})]})})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(re,{htmlFor:"language",className:"text-base font-medium",children:m.language}),e.jsxs(ie,{value:d,onValueChange:f,children:[e.jsx(oe,{id:"language",className:"w-full",children:e.jsx(le,{placeholder:m.selectLanguage})}),e.jsxs(ce,{children:[e.jsx(de,{value:"en",children:"English"}),e.jsx(de,{value:"it",children:"Italiano"}),e.jsx(de,{value:"es",children:"Español"}),e.jsx(de,{value:"fr",children:"Français"}),e.jsx(de,{value:"de",children:"Deutsch"}),e.jsx(de,{value:"zh",children:"Chinese"}),e.jsx(de,{value:"ja",children:"Japanese"}),e.jsx(de,{value:"pt",children:"Português"}),e.jsx(de,{value:"ru",children:"Русский"})]})]})]})]})})]})})}),ts=({onMenuToggle:s,onSearch:a,services:n})=>{const[r,i]=t.useState(""),[o,l]=t.useState(!1),[p,f]=t.useState(!1),[g,v]=t.useState(!1),[j,b]=t.useState(!1),[w,y]=t.useState(""),N=t.useRef(null),[k,C]=t.useState(!1),{user:E,logoutMutation:S}=Ke(),{t:L,favorites:_,isFavorite:T}=Qe(),[P,I]=K(),M=t.useRef(null);t.useEffect(()=>{const e=()=>{if("undefined"!=typeof window){const e=new CustomEvent("open-settings-dialog");window.dispatchEvent(e)}};return window.addEventListener("open-settings-dialog",()=>{const e=document.getElementById("settings-dialog");e&&"function"==typeof e.showModal&&e.showModal()}),()=>{window.removeEventListener("open-settings-dialog",e)}},[]);const D=t.useMemo(()=>(n||[]).filter(e=>T(e.id)),[n,_,T]),O=t.useMemo(()=>n.map(e=>({...e,categoryId:0,responseTime:null,lastChecked:null,uptimePercentage:null})),[n]),A=e=>{const s=e.target.value;i(s),a(s)},$=()=>{C(!0)},F=()=>{C(!1)},z=()=>{(()=>{N.current&&(window.clearInterval(N.current),N.current=null),v(!0),b(!1),y("");const e=L.searchServices||"";let s=0;N.current=window.setInterval(()=>{s+=1,y(e.slice(0,s)),s>=e.length&&(N.current&&(window.clearInterval(N.current),N.current=null),b(!0))},40)})()};return t.useEffect(()=>{v(!1),b(!1),y(""),N.current&&(window.clearInterval(N.current),N.current=null)},[L.searchServices]),t.useEffect(()=>()=>{N.current&&window.clearInterval(N.current)},[]),e.jsxs("header",{className:"sticky top-0 z-50 transition-colors duration-300 ease-in-out border-b shadow-sm bg-background border-border backdrop-blur-md",children:[e.jsxs("div",{className:"flex items-center w-full gap-2 px-0 py-3 transition-all duration-300 ease-in-out sm:px-2 md:px-6 md:gap-4",children:[e.jsxs("div",{className:"flex items-center select-none flex-shrink-0 flex-grow-0 min-w-[90px] md:min-w-[160px] pl-2 md:pl-0 justify-start ml-0 md:ml-0 transition-all duration-300 ease-in-out",children:[e.jsx(H,{href:"/",onClick:e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),I("/")},className:"group",children:e.jsx("span",{className:"text-lg font-extrabold leading-none tracking-tight uppercase transition-colors duration-200 sm:text-2xl md:text-3xl text-primary drop-shadow-sm md:leading-tight group-hover:text-primary/80",children:L.serverStatus})}),e.jsx("span",{className:"items-center hidden px-2 py-1 ml-2 font-mono text-xs transition-colors duration-200 rounded sm:ml-4 md:inline-flex bg-muted",children:"v: 0.3.00"})]}),e.jsxs("div",{className:"flex justify-center flex-1",children:[e.jsxs("div",{className:"relative items-center hidden mx-auto md:flex group w-64 max-w-xs",onMouseEnter:z,children:[e.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 -translate-y-1/2 select-none left-3 top-1/2 "+(j?"cursor-pointer":"cursor-default"),onMouseEnter:z,onClick:()=>{j&&M.current&&M.current.focus()},children:e.jsx(c,{className:"w-4 h-4 text-muted-foreground"})}),e.jsx("input",{ref:M,type:"text",placeholder:"",className:"w-full py-1.5 pl-10 pr-10 text-sm border-0 rounded-lg bg-background placeholder:text-muted-foreground transition-all duration-300",value:r,onChange:A,onFocus:$,onBlur:F}),!r&&!k&&e.jsx("div",{className:"absolute inset-0 transition-opacity duration-200 opacity-0 pointer-events-none group-hover:opacity-100",children:e.jsx("div",{className:"flex items-center h-full pl-10",children:e.jsx("span",{className:"text-sm text-muted-foreground select-none",children:g?w:L.searchServices})})}),_.length>0&&e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(he,{asChild:!0,children:e.jsxs(xe,{children:[e.jsx(pe,{asChild:!0,children:e.jsx(fe,{variant:"ghost",size:"icon",tabIndex:0,"aria-label":L.favorites,className:"absolute transition-colors duration-200 -translate-y-1/2 outline-none right-2 top-1/2 text-muted-foreground hover:text-foreground hover:bg-muted/50 ring-0 focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0",children:e.jsx(d,{className:"w-5 h-5 transition-transform duration-200 text-amber-400 group-hover:scale-110"})})}),e.jsx(ge,{align:"end",className:"w-56 animate-fade-in",children:e.jsx(ve,{children:D.map(s=>e.jsx(je,{asChild:!0,children:e.jsxs(H,{href:`/services/${s.slug}`,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("i",{className:s.logo+" w-4 h-4"}),e.jsx("span",{children:s.name})]})},s.id))})})]})}),e.jsx(be,{side:"bottom",children:L.favorites})]})})]}),e.jsx("button",{className:"flex items-center justify-center w-10 h-10 transition-colors duration-200 rounded-full md:hidden hover:bg-muted/50 text-muted-foreground hover:text-foreground active:scale-95 focus:ring-2 focus:ring-primary/40","aria-label":L.searchServices,onClick:()=>f(!0),type:"button",children:e.jsx(c,{className:"w-5 h-5 transition-transform duration-200"})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-1 flex-shrink-0 ml-auto min-w-[100px] md:min-w-[160px]",children:[e.jsx("button",{className:"p-2 transition-colors duration-200 lg:hidden text-muted-foreground hover:text-foreground active:scale-95",onClick:s,children:e.jsx(u,{className:"w-5 h-5 transition-transform duration-200"})}),E?.role===Je.ADMIN&&e.jsx(H,{href:"/admin",children:e.jsxs(fe,{variant:"outline",className:"items-center hidden gap-2 transition-colors duration-200 md:flex text-foreground hover:bg-accent hover:text-accent-foreground",children:[e.jsx(m,{className:"w-4 h-4 transition-transform duration-200"}),e.jsx("span",{className:"font-medium",children:L.admin})]})}),e.jsx(fe,{variant:"ghost",size:"icon",className:"hidden transition-colors duration-200 lg:flex text-muted-foreground hover:text-foreground hover:bg-muted/50 group",onClick:()=>l(!0),children:e.jsx(h,{className:"w-5 h-5 transition-transform duration-300 ease-in-out group-hover:rotate-90 settings-button-icon"})}),e.jsx(fe,{variant:"ghost",size:"icon",className:"hidden transition-colors duration-200 lg:flex text-muted-foreground hover:text-foreground hover:bg-muted/50",onClick:()=>I("/account-dashboard"),children:e.jsx(x,{className:"w-5 h-5 transition-transform duration-200"})})]})]}),p&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 md:hidden animate-fade-in",children:e.jsxs("div",{className:"relative w-[90vw] max-w-sm bg-background rounded-lg p-4 shadow-lg animate-slide-up transition-all duration-300",children:[e.jsx("button",{className:"absolute text-2xl font-bold transition-colors duration-200 top-2 right-2 text-muted-foreground hover:text-foreground focus:outline-none focus-visible:outline-none","aria-label":"Chiudi",onClick:()=>f(!1),type:"button",children:"×"}),e.jsxs("div",{className:"relative flex items-center w-full group",onMouseEnter:z,children:[e.jsx("span",{className:"absolute flex items-center justify-center w-5 h-5 -translate-y-1/2 pointer-events-none select-none left-3 top-1/2",children:e.jsx(c,{className:"w-4 h-4 transition-colors duration-200 text-muted-foreground"})}),e.jsx("input",{ref:M,type:"text",placeholder:"",className:"w-full py-2 pl-10 pr-10 text-sm border-0 rounded-lg bg-background placeholder:text-muted-foreground",value:r,onChange:A,onFocus:$,onBlur:F,autoFocus:!0}),!r&&!k&&e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"flex items-center h-full pl-10",children:e.jsx("span",{className:"text-sm text-muted-foreground select-none",children:g?w:L.searchServices})})}),_.length>0&&e.jsx(ue,{children:e.jsxs(me,{children:[e.jsx(he,{asChild:!0,children:e.jsxs(xe,{children:[e.jsx(pe,{asChild:!0,children:e.jsx(fe,{variant:"ghost",size:"icon",tabIndex:0,"aria-label":L.favorites,className:"absolute transition-colors duration-200 -translate-y-1/2 outline-none right-2 top-1/2 text-muted-foreground hover:text-foreground hover:bg-muted/50 ring-0 focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0",children:e.jsx(d,{className:"w-5 h-5 transition-transform duration-200 text-amber-400 group-hover:scale-110"})})}),e.jsx(ge,{align:"end",className:"w-56 animate-fade-in",children:e.jsx(ve,{children:D.map(s=>e.jsx(je,{asChild:!0,children:e.jsxs(H,{href:`/services/${s.slug}`,className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("i",{className:s.logo+" w-4 h-4"}),e.jsx("span",{children:s.name})]})},s.id))})})]})}),e.jsx(be,{side:"bottom",children:L.favorites})]})})]})]})}),e.jsx(ss,{open:o,onOpenChange:l,services:O})]})},as=(s,t="w-5 h-5")=>{const a=(s||"").toLowerCase(),n={server:e.jsx(p,{className:t}),cloud:e.jsx(M,{className:t}),web:e.jsx(I,{className:t}),social:e.jsx(P,{className:t}),database:e.jsx(T,{className:t}),security:e.jsx(m,{className:t}),monitoring:e.jsx(i,{className:t}),performance:e.jsx(_,{className:t}),network:e.jsx(L,{className:t}),shop:e.jsx(S,{className:t}),music:e.jsx(E,{className:t}),video:e.jsx(C,{className:t}),streaming:e.jsx(k,{className:t}),game:e.jsx(N,{className:t}),mail:e.jsx(y,{className:t}),bank:e.jsx(w,{className:t}),betting:e.jsx(b,{className:t}),ai:e.jsx(j,{className:t}),star:e.jsx(d,{className:t}),various:e.jsx(v,{className:t}),tool:e.jsx(g,{className:t}),alert:e.jsx(f,{className:t})};if(n[a])return n[a];for(const e of Object.keys(n))if(a.includes(e))return n[e];return e.jsx(p,{className:t})},ns=({categories:s,statusSummary:t})=>{const{t:a,language:r}=Qe(),[i,o]=K(),l=e=>{o(e)},{data:c=[]}=n({queryKey:["/api/services"]}),d=t?.lastChecked?we(t.lastChecked,r):a.unknown||"Unknown",u=c.reduce((e,s)=>(e[s.categoryId]||(e[s.categoryId]=[]),e[s.categoryId].push(s),e),{}),m=e=>{const s=e.toLowerCase().replace(/[^a-z]/g,""),t=a[s];return"string"==typeof t?t:e},h=t?.degraded??0,x=t?.down??0;return e.jsx("aside",{id:"sidebar",className:"hidden lg:block w-64 bg-dark-light border-r border-dark-lighter overflow-y-auto scrollbar-hide fixed top-[64px] h-[calc(100vh-64px)]",children:e.jsxs("nav",{className:"p-3",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"mb-1.5 text-xs font-semibold tracking-wider text-gray-400 uppercase",children:a.serverStatus}),e.jsxs("div",{className:"p-2.5 mb-2 rounded-lg bg-dark-lighter",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("span",{className:"text-xs font-medium",children:a.overall||"Overall Status"}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-success bg-opacity-20 text-success",children:x>0?a.partialOutage||"Partial Outage":h>0?a.degraded:a.operational})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium",children:a.lastCheck}),e.jsx("span",{className:"font-mono text-xs text-gray-400",children:d})]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"mb-1.5 text-xs font-semibold tracking-wider text-gray-400 uppercase",children:a.categories||"Categories"}),e.jsx("ul",{className:"space-y-0.5",children:s.map(s=>e.jsx("li",{children:e.jsxs("a",{href:`#${s.slug}`,onClick:e=>((e,s)=>{e.preventDefault();const t=document.getElementById(s);if(t){const e=100,s=t.getBoundingClientRect().top+window.pageYOffset-e;window.scrollTo({top:s,behavior:"smooth"})}})(e,s.slug),className:"flex items-center px-2.5 py-1.5 text-sm text-gray-300 rounded-md cursor-pointer hover:bg-dark-lighter transition-colors",children:[e.jsx("span",{className:"flex items-center justify-center w-4 mr-2",children:as(s.name,"w-4 h-4")}),e.jsx("span",{className:"flex-1 truncate",children:m(s.name)}),e.jsx("span",{className:"ml-2 text-xs text-gray-500 shrink-0",children:u[s.id]?.length||0})]})},s.id))})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("div",{className:"mb-1.5 text-xs font-semibold tracking-wider text-gray-400 uppercase",children:a.links||"Links"}),e.jsxs("ul",{className:"space-y-0.5",children:[e.jsx("li",{children:e.jsxs("button",{className:"flex items-center w-full px-2.5 py-1.5 text-sm font-normal text-left text-gray-300 transition-all duration-200 rounded-md hover:bg-dark-lighter hover:text-primary focus:outline-none focus:ring-1 focus:ring-primary/40",onClick:()=>l("/info"),children:[e.jsx("i",{className:"w-4 mr-2 text-sm transition-transform duration-200 fas fa-info-circle"}),e.jsx("span",{children:a.infoAndContacts})]})}),e.jsx("li",{children:e.jsxs("button",{className:"flex items-center w-full px-2.5 py-1.5 text-sm font-normal text-left text-gray-300 transition-all duration-200 rounded-md hover:bg-dark-lighter hover:text-primary focus:outline-none focus:ring-1 focus:ring-primary/40",onClick:()=>l("/updates"),children:[e.jsx("i",{className:"w-4 mr-2 text-sm fas fa-clock-rotate-left"}),e.jsx("span",{children:a.siteUpdates})]})})]})]})]})})},rs=({isOpen:s,onClose:t,categories:a,statusSummary:n})=>{const{user:r,logoutMutation:i}=Ke(),[o,l]=K(),{t:c,language:d}=Qe(),u=n?.lastChecked?we(n.lastChecked,d):c.unknown||"Unknown",m=e=>{l(e),t()},h=e=>{const s=e.toLowerCase().replace(/[^a-z]/g,""),t=c[s];return"string"==typeof t?t:e};return s?e.jsxs("div",{className:"fixed inset-0 z-50 lg:hidden "+(s?"":"pointer-events-none"),children:[e.jsx("div",{className:"absolute inset-0 bg-black/50 transition-opacity duration-300 ease-in-out\n          "+(s?"opacity-100":"opacity-0"),onClick:t}),e.jsx("div",{className:"absolute top-0 right-0 w-[80vw] max-w-[270px] min-w-[150px] h-full bg-dark-light transform transition-transform duration-300 ease-in-out\n        "+(s?"translate-x-0":"translate-x-full"),style:{fontSize:"clamp(0.93rem, 1.7vw, 1.01rem)",wordBreak:"break-word"},children:e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"mb-1 overflow-x-auto text-xs font-semibold tracking-wider text-gray-400 uppercase whitespace-nowrap",children:c.serverStatus}),e.jsxs("div",{className:"p-2 rounded bg-dark-lighter transition-all duration-200 hover:bg-dark-lighter/80 hover:scale-[1.02] cursor-pointer",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1 mb-1",children:[e.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:c.overall}),e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-success bg-opacity-20 text-success whitespace-nowrap transition-colors duration-200",children:n?.down&&n.down>0?c.partialOutage:n?.degraded&&n.degraded>0?c.degraded:c.operational})]}),e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("span",{className:"text-xs font-medium whitespace-nowrap",children:c.lastCheck}),e.jsx("span",{className:"font-mono text-xs text-gray-400 whitespace-nowrap",children:u})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"mb-1 overflow-x-auto text-xs font-semibold tracking-wider text-gray-400 uppercase whitespace-nowrap",children:c.categories}),e.jsx("ul",{children:a.map(s=>e.jsx("li",{className:"mb-0.5",children:e.jsxs("a",{href:`#${s.slug}`,className:"flex items-center px-2 py-1.5 text-xs text-gray-300 rounded transition-all duration-200 hover:bg-dark-lighter hover:text-primary hover:translate-x-1 focus:outline-none focus:ring-1 focus:ring-primary/40 gap-2 overflow-x-auto min-w-0",onClick:t,children:[e.jsx("span",{className:"flex-shrink-0 w-5 mr-1 transition-transform duration-200",children:as(s.name,"w-5 h-5")}),e.jsx("span",{className:"truncate max-w-[110px]",children:h(s.name)})]})},s.id))})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"mb-1 text-xs font-semibold tracking-wider text-gray-400 uppercase",children:c.links||"Links"}),e.jsxs("ul",{children:[e.jsx("li",{className:"mb-0.5",children:e.jsxs("button",{className:"flex items-center w-full px-2 py-1.5 text-xs text-left text-gray-300 rounded transition-all duration-200 hover:bg-dark-lighter hover:text-primary hover:translate-x-1 focus:outline-none focus:ring-1 focus:ring-primary/40",onClick:()=>m("/info"),children:[e.jsx("i",{className:"w-5 mr-1 transition-transform duration-200 fas fa-info-circle group-hover:scale-110"}),e.jsx("span",{children:c.infoAndContacts})]})}),e.jsx("li",{className:"mb-0.5",children:e.jsxs("button",{className:"flex items-center w-full px-2 py-1.5 text-xs text-left text-gray-300 rounded transition-all duration-200 hover:bg-dark-lighter hover:text-primary hover:translate-x-1 focus:outline-none focus:ring-1 focus:ring-primary/40",onClick:()=>m("/updates"),children:[e.jsx("i",{className:"w-5 mr-1 transition-transform duration-200 fas fa-history group-hover:scale-110"}),e.jsx("span",{children:c.updates})]})})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("div",{className:"mb-1 text-xs font-semibold tracking-wider text-gray-400 uppercase",children:"Other"}),e.jsxs("ul",{children:[e.jsx("li",{className:"mb-0.5",children:e.jsxs("button",{className:"flex items-center w-full px-2 py-1.5 text-xs text-left text-gray-300 rounded transition-all duration-200 hover:bg-dark-lighter hover:text-primary hover:translate-x-1 focus:outline-none focus:ring-1 focus:ring-primary/40",onClick:()=>{window.dispatchEvent(new CustomEvent("open-settings-dialog")),t()},children:[e.jsx("i",{className:"w-5 mr-2 transition-transform duration-200 fas fa-cog group-hover:scale-110"}),e.jsx("span",{children:c.settings||"Impostazioni"})]})}),e.jsx("li",{className:"mb-0.5",children:e.jsxs("button",{className:"flex items-center w-full px-2 py-1.5 text-xs text-left text-gray-300 rounded transition-all duration-200 hover:bg-dark-lighter hover:text-primary hover:translate-x-1 focus:outline-none focus:ring-1 focus:ring-primary/40",onClick:()=>m("/account-dashboard"),children:[e.jsx("i",{className:"w-5 mr-2 transition-transform duration-200 fas fa-user group-hover:scale-110"}),e.jsx("span",{children:"Account"})]})})]})]})]})})]}):null},is=({status:s,className:t=""})=>{const{label:a,bgColor:n,textColor:r}=(e=>{switch(e){case"operational":return{label:"Up",bgColor:"bg-success bg-opacity-20",textColor:"text-success"};case"degraded":return{label:"Degraded",bgColor:"bg-warning bg-opacity-20",textColor:"text-warning"};case"down":return{label:"Down",bgColor:"bg-danger bg-opacity-20",textColor:"text-danger"};default:return{label:"Unknown",bgColor:"bg-gray-400 bg-opacity-20",textColor:"text-gray-400"}}})(s);return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n} ${r} ${t}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 ${r.replace("text-","bg-")} rounded-full mr-1`}),a]})};is.displayName="StatusBadge";const os=t.memo(is),ls=e=>{const s=e.toLowerCase();return s.includes("steam")?"fab fa-steam":s.includes("google")?"fab fa-google":s.includes("youtube")?"fab fa-youtube":s.includes("facebook")||s.includes("meta")?"fab fa-facebook":s.includes("twitter")||s.includes("x")?"fab fa-twitter":s.includes("apple")?"fab fa-apple":s.includes("android")?"fab fa-android":s.includes("windows")||s.includes("microsoft")?"fab fa-microsoft":s.includes("amazon")?"fab fa-amazon":s.includes("playstation")?"fab fa-playstation":s.includes("xbox")?"fab fa-xbox":s.includes("instagram")?"fab fa-instagram":s.includes("discord")?"fab fa-discord":s.includes("telegram")?"fab fa-telegram":s.includes("tiktok")?"fab fa-tiktok":s.includes("twitch")?"fab fa-twitch":s.includes("reddit")?"fab fa-reddit":s.includes("github")?"fab fa-github":s.includes("linkedin")?"fab fa-linkedin":s.includes("chrome")?"fab fa-chrome":s.includes("firefox")?"fab fa-firefox":s.includes("safari")?"fab fa-safari":s.includes("edge")?"fab fa-edge":s.includes("paypal")?"fab fa-paypal":s.includes("spotify")?"fab fa-spotify":s.includes("snapchat")?"fab fa-snapchat":s.includes("whatsapp")?"fab fa-whatsapp":s.includes("slack")?"fab fa-slack":s.includes("dropbox")?"fab fa-dropbox":s.includes("cloud")?"fas fa-cloud text-blue-400":s.includes("mail")||s.includes("gmail")||s.includes("outlook")?"fas fa-envelope text-yellow-400":s.includes("ai")||s.includes("openai")?"fas fa-robot":s.includes("game")||s.includes("play")?"fas fa-gamepad":s.includes("video")||s.includes("movie")||s.includes("film")||s.includes("netflix")?"fas fa-film":s.includes("music")?"fas fa-music":s.includes("bank")||s.includes("finance")||s.includes("pay")?"fas fa-landmark":s.includes("shop")||s.includes("store")||s.includes("cart")?"fas fa-shopping-cart":s.includes("wifi")||s.includes("network")||s.includes("connection")?"fas fa-wifi":s.includes("database")||s.includes("server")?"fas fa-database":s.includes("phone")?"fas fa-phone":s.includes("camera")?"fas fa-camera":s.includes("car")?"fas fa-car":s.includes("plane")||s.includes("flight")?"fas fa-plane":s.includes("train")?"fas fa-train":s.includes("ship")?"fas fa-ship":s.includes("hotel")?"fas fa-hotel":"fas fa-server"},cs=({service:s,onClick:a})=>{const[,n]=K(),{id:r,name:i,logo:o,status:l,responseTime:c,lastChecked:u,slug:m}=s,{isFavorite:h,addFavorite:x,removeFavorite:p,t:f,language:g}=Qe(),{user:v}=Ke(),j=h(r),b=t.useMemo(()=>{const e=g||"en";return new Intl.DateTimeFormat(e,{day:"numeric",month:"long"})},[g]),w=t.useMemo(()=>{const t=[];for(let a=0;a<18;a++){let n="bg-success",r="Nessun dato disponibile";0===a&&("down"===l?(n="bg-danger",r="Servizio non disponibile"):"degraded"===l&&(n="bg-warning",r="Servizio degradato"));const i=s.history?.[a];if(i){const s=i.downtimeMinutes??0;0!==a&&("down"===i.status?(n="bg-danger",r="Servizio non disponibile"):"degraded"===i.status?(n="bg-warning",r="Servizio degradato"):"operational"===i.status&&(s>=30?(n="bg-danger",r="Non disponibile per più di 30 minuti"):s>0?(n="bg-warning",r=`Non disponibile per ${s} minuti`):(n="bg-success",r="Completamente operativo")));const o=new Date(i.date),l=b.format(o);t.push(e.jsx("div",{className:`inline-block w-[3%] h-7 ${n} rounded-sm transition-all duration-300`,title:`${l}: ${r}\nTempo di risposta medio: ${i.responseTime}ms\nUptime: ${i.uptimePercentage}%`},a))}else t.push(e.jsx("div",{className:`inline-block w-[3%] h-7 ${n} rounded-sm transition-all duration-300`,title:r},a))}return t},[s.history,l,b]),y=t.useMemo(()=>u?we(u,g):f.unknown||"Unknown",[u,g,f]),{toast:N}=G(),k=t.useCallback(async e=>{if(e.stopPropagation(),e.preventDefault(),v)try{j?await p(r):await x(r)}catch(s){N({title:"Errore",description:s instanceof Error?s.message:"Errore nell'aggiornamento dei preferiti",variant:"destructive"})}else N({title:f.error||"Error",description:"Devi effettuare l'accesso per aggiungere servizi ai preferiti",variant:"destructive"})},[x,r,j,p,f,N,v]),C=t.useCallback(e=>{e.preventDefault(),a?a():n(`/services/${m}`)},[a,n,m]);return e.jsx("div",{className:"relative w-full overflow-hidden transition-all duration-300 border rounded-lg cursor-pointer bg-card border-border hover:border-primary/20 hover:shadow-lg hover:shadow-primary/5 group",onClick:C,"aria-label":f.viewDetails||"View Details",role:"button",tabIndex:0,children:e.jsxs("div",{className:"relative flex flex-col h-full pb-16",children:[e.jsxs("div",{className:"flex items-start justify-between p-4 mb-2",children:[e.jsx("div",{className:"flex items-start flex-1 min-w-0 mr-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"flex items-center justify-center w-7 h-7 transition-transform duration-300 rounded-lg bg-background group-hover:scale-110 group-hover:shadow-md shrink-0",children:e.jsx("i",{className:`${o||ls(i)} text-xl transition-all duration-300 group-hover:text-primary`})}),e.jsx("h3",{className:"text-lg font-medium leading-tight transition-colors duration-300 group-hover:text-primary whitespace-nowrap",children:i})]})}),e.jsx(os,{status:l,className:"transition-transform duration-300 group-hover:scale-105 shrink-0"})]}),e.jsxs("div",{className:"grid gap-2 px-4 mb-4 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"grid grid-cols-[auto,1fr] items-center gap-x-4 transition-colors duration-300 group-hover:text-foreground",children:[e.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"mr-2 text-xs far fa-clock opacity-70"}),f.lastCheck,":"]}),e.jsx("span",{className:"min-w-0 font-mono font-medium text-right break-all",children:y})]}),e.jsxs("div",{className:"grid grid-cols-[auto,1fr] items-center gap-x-4 transition-colors duration-300 group-hover:text-foreground",children:[e.jsxs("span",{className:"flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"mr-2 text-xs fas fa-tachometer-alt opacity-70"}),f.responseTime||"Response time",":"]}),e.jsx("span",{className:"font-mono font-medium text-right",children:"down"===l?"Timeout":`${c}ms`})]})]}),e.jsx("div",{className:"flex items-center justify-between w-full px-4 mb-2",children:w}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 transition-all duration-300 border-t border-border/50 bg-muted/50 backdrop-blur-sm group-hover:bg-primary",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center gap-2.5 text-sm font-semibold text-foreground group-hover:text-primary-foreground",children:[e.jsx("i",{className:"fas fa-chart-line"}),e.jsx("span",{children:f.viewDetails||"View Details"}),e.jsx("i",{className:"transition-all duration-300 opacity-50 fas fa-chevron-right group-hover:opacity-100 group-hover:translate-x-1.5"})]}),e.jsx(ue,{children:e.jsx(me,{children:e.jsx(fe,{variant:"ghost",size:"icon",className:`relative z-50 w-8 h-8 rounded-full border border-border transition-all duration-300\n                      ${j?"text-amber-400 hover:border-amber-400 hover:-translate-y-1":"text-gray-400 hover:text-amber-400 hover:border-amber-400 hover:-translate-y-1"}\n                      group flex items-center justify-center hover:bg-background/50`,onClick:k,"aria-label":j?f.removeFromFavorites:f.addToFavorites,children:j?e.jsx(d,{className:"w-4 h-4 transition-transform duration-300 fill-amber-400 drop-shadow"}):e.jsx(D,{className:"w-4 h-4 transition-all duration-300"})})})})]})})]})})};cs.displayName="ServiceCard";const ds=t.memo(cs),us=({name:s,icon:a,services:n,id:r,onServiceClick:i})=>{const[o,l]=t.useState(!1),[c,d]=t.useState("status"),{t:u}=Qe(),m=t.useDeferredValue(c),h=t.useCallback(()=>{l(e=>!e)},[]),x=t.useMemo(()=>{const e=s.toLowerCase().replace(/[^a-z]/g,""),t=u[e];return"string"==typeof t?t:s},[s,u]),p=t.useMemo(()=>[...n].sort((e,s)=>{switch(m){case"alpha":return e.name.localeCompare(s.name);case"status":{const t={down:0,degraded:1,operational:2};return t[e.status]-t[s.status]}case"responseTime":return e.responseTime-s.responseTime;case"uptimePercentage":return s.uptimePercentage-e.uptimePercentage;default:return 0}}),[n,m]),f=t.useCallback(e=>{d(e)},[]);return e.jsxs("section",{id:r,className:"px-1 mb-8 sm:mb-10 sm:px-0",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-3 sm:flex-row sm:items-center sm:justify-between sm:mb-4 sm:gap-0",children:[e.jsxs("button",{onClick:h,className:"flex items-center text-lg font-bold transition-colors sm:text-xl hover:text-primary group",children:[e.jsx("span",{className:"flex items-center justify-center w-8 h-8 mr-2 text-white transition-transform duration-300 rounded-full shadow-lg bg-gradient-to-br from-primary to-blue-400 group-hover:scale-110",children:as(s,"w-5 h-5 text-white")}),x,e.jsx("i",{className:`fas ${o?"fa-chevron-right":"fa-chevron-down"} ml-2 text-sm opacity-60 group-hover:opacity-100`})]}),!o&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(ie,{value:c,onValueChange:f,children:[e.jsx(oe,{className:"w-[180px] h-9",children:e.jsx(le,{placeholder:u.sortBy+"..."})}),e.jsxs(ce,{children:[e.jsx(de,{value:"status",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4"}),e.jsx("span",{children:u.firstDown})]})}),e.jsx(de,{value:"alpha",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:u.alphabetical})]})}),e.jsx(de,{value:"responseTime",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($,{className:"w-4 h-4"}),e.jsx("span",{children:u.responseTime})]})}),e.jsx(de,{value:"uptimePercentage",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{children:u.uptimePercentage})]})})]})]})})]}),!o&&e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:p.map(s=>e.jsx(ds,{service:s,onClick:()=>i(s)},s.id))})]})};us.displayName="CategorySection";const ms=t.memo(us),hs=t.memo(({summary:s,onCheckNow:a,isChecking:n})=>{const{toast:r}=G(),{t:i,language:o}=Qe(),{operationalPercentage:l,degradedPercentage:c,downPercentage:d}=t.useMemo(()=>{const e=s?.operational??0,t=s?.degraded??0,a=s?.down??0,n=e+t+a;return n?{operationalPercentage:e/n*100,degradedPercentage:t/n*100,downPercentage:a/n*100}:{operationalPercentage:0,degradedPercentage:0,downPercentage:0}},[s]),u=s?.lastChecked,m=t.useMemo(()=>u?we(u,o):i?.unknown||"Unknown",[o,u,i]),h=t.useCallback(async()=>{if(!n)try{a(),r({title:"Service Check",description:"Checking all services..."})}catch(e){r({title:"Error",description:"Failed to check services. Please try again.",variant:"destructive"})}},[n,a,r]);return e.jsx("div",{className:"bg-dark-light p-3 md:p-5 border-b border-dark-lighter",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h1",{className:"text-xl md:text-2xl font-extrabold text-primary drop-shadow mb-1 text-center md:text-left",children:i.dashboard||"Dashboard"}),e.jsx("p",{className:"text-gray-400 text-sm md:text-base mb-4 text-center md:text-left",children:i.dashboardDescription||"Controlla lo stato dei servizi in tempo reale e ricevi aggiornamenti immediati."}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[e.jsxs("div",{className:"bg-dark-lighter rounded-lg p-4 shadow hover:shadow-lg transition-all flex flex-col items-center text-center",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-400",children:i.operational}),e.jsx("span",{className:"text-xl font-bold text-success",children:s?.operational||0})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2 overflow-hidden",children:e.jsx("div",{className:"bg-success h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${Math.max(l,l>0?2:0)}%`}})})]}),e.jsxs("div",{className:"bg-dark-lighter rounded-lg p-4 shadow hover:shadow-lg transition-all flex flex-col items-center text-center",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-400",children:i.degraded}),e.jsx("span",{className:"text-xl font-bold text-warning",children:s?.degraded||0})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2 overflow-hidden",children:e.jsx("div",{className:"bg-warning h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${Math.max(c,c>0?2:0)}%`}})})]}),e.jsxs("div",{className:"bg-dark-lighter rounded-lg p-4 shadow hover:shadow-lg transition-all flex flex-col items-center text-center",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-400",children:i.down}),e.jsx("span",{className:"text-xl font-bold text-danger",children:s?.down||0})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-2 overflow-hidden",children:e.jsx("div",{className:"bg-danger h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${Math.max(d,d>0?2:0)}%`}})})]}),e.jsxs("div",{className:"bg-dark-lighter rounded-lg p-4 shadow hover:shadow-lg transition-all flex flex-col items-center text-center",children:[e.jsxs("div",{className:"flex items-center justify-between w-full mb-2",children:[e.jsx("h3",{className:"text-xs font-medium text-gray-400",children:i.lastCheck}),e.jsx("span",{className:"text-xs font-mono text-gray-300",children:m})]}),e.jsx("button",{className:`mt-3 w-full ${n?"bg-gray-600":"bg-primary hover:bg-blue-600"} text-white py-1 px-2 rounded text-xs font-semibold transition`,onClick:h,disabled:n,children:n?i.checkingNow||"Checking...":i.checkNow||"Check Now"})]})]})]})})}),xs=()=>{const[s,a]=t.useState(!1),[n,r]=t.useState(!1),{language:i}=Qe(),o=Z[i]||Z.it;return t.useEffect(()=>{const e=e=>{"Escape"===e.key&&(a(!1),r(!1))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),e.jsxs(e.Fragment,{children:[e.jsx("footer",{className:"py-4 border-t bg-dark-light border-dark-lighter",children:e.jsx("div",{className:"container px-4 mx-auto",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-center text-center gap-x-2 gap-y-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["© 2025 ",o.appName," ",e.jsx("span",{className:"mx-1",children:"|"})," ",e.jsxs("span",{className:"font-mono",children:[o.version," 0.3.00"]})]}),e.jsx("span",{className:"mx-1 text-gray-500",children:"|"}),e.jsx("button",{type:"button",onClick:()=>a(!0),className:"text-sm font-semibold text-gray-400 capitalize transition-colors hover:text-primary focus:outline-none",children:o.terms}),e.jsx("span",{className:"mx-1 text-gray-500",children:"|"}),e.jsx("button",{type:"button",onClick:()=>r(!0),className:"text-sm font-semibold text-gray-400 capitalize transition-colors hover:text-primary focus:outline-none",children:o.privacy})]})})}),s&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60",children:e.jsxs("div",{className:"relative bg-dark-light rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto scrollbar-hide shadow-lg",children:[e.jsx("button",{onClick:()=>a(!1),"aria-label":o.close,className:"absolute text-xl font-bold text-gray-400 top-3 right-3 hover:text-primary focus:outline-none",children:"×"}),e.jsx("h2",{className:"mb-4 text-2xl font-bold text-center text-primary",children:o.termsTitle}),e.jsxs("div",{className:"mb-4 space-y-4 text-base leading-relaxed text-gray-200",children:[e.jsx("p",{children:o.termsContent.welcome}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:o.termsContent.section1.title}),e.jsx("p",{children:o.termsContent.section1.content}),e.jsx("h3",{className:"text-lg font-semibold",children:o.termsContent.section2.title}),e.jsx("p",{children:o.termsContent.section2.content}),e.jsx("h3",{className:"text-lg font-semibold",children:o.termsContent.section3.title}),e.jsx("p",{children:o.termsContent.section3.content}),e.jsx("h3",{className:"text-lg font-semibold",children:o.termsContent.section4.title}),e.jsx("p",{children:o.termsContent.section4.content})]})]})}),n&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-60",children:e.jsxs("div",{className:"relative bg-dark-light rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto scrollbar-hide shadow-lg",children:[e.jsx("button",{onClick:()=>r(!1),"aria-label":o.close,className:"absolute text-xl font-bold text-gray-400 top-3 right-3 hover:text-primary focus:outline-none",children:"×"}),e.jsx("h2",{className:"mb-4 text-2xl font-bold text-center text-primary",children:o.privacyTitle}),e.jsxs("div",{className:"mb-4 space-y-4 text-base leading-relaxed text-gray-200",children:[e.jsx("p",{children:o.privacyContent.intro}),e.jsx("h3",{className:"mt-4 text-lg font-semibold",children:o.privacyContent.section1.title}),e.jsx("p",{children:o.privacyContent.section1.content}),e.jsx("h3",{className:"text-lg font-semibold",children:o.privacyContent.section2.title}),e.jsx("p",{children:o.privacyContent.section2.content}),e.jsx("h3",{className:"text-lg font-semibold",children:o.privacyContent.section3.title}),e.jsx("p",{children:o.privacyContent.section3.content}),e.jsx("h3",{className:"text-lg font-semibold",children:o.privacyContent.section4.title}),e.jsx("p",{children:o.privacyContent.section4.content})]})]})})]})},ps=t.lazy(()=>Oe(()=>import("./ServiceDetailModal-DKid7LEH.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),fs=()=>{const[s,a]=t.useState(!1),[i,o]=t.useState(""),l=t.useDeferredValue(i),[c,d]=t.useState(null),[u,m]=t.useState([]),[h,x]=t.useState([]),[p,f]=t.useState(!1),{t:g}=Qe(),{data:v=[],isLoading:j}=n({queryKey:["/api/categories"],staleTime:6e5}),{data:b=[],isLoading:w}=n({queryKey:["/api/services"],staleTime:12e4}),{data:y=null,isLoading:N,refetch:k}=n({queryKey:["/api/status-summary"],refetchInterval:3e4,staleTime:25e3,refetchOnMount:"always"}),{mutate:C,isPending:E}=r({mutationFn:async()=>(await Fe("POST","/api/check-now",{})).json(),onSuccess:()=>{Re.invalidateQueries({queryKey:["/api/status-summary"]}),Re.invalidateQueries({queryKey:["/api/services"]}),k()}});t.useEffect(()=>{if(!c)return;const e=new AbortController,{signal:s}=e;return(async()=>{try{const[e,t]=await Promise.all([fetch(`/api/services/${c.id}/history`,{credentials:"include",signal:s}),fetch(`/api/services/${c.id}/incidents`,{credentials:"include",signal:s})]);if(s.aborted)return;const[a,n]=await Promise.all([e.json(),t.json()]);m(a),x(n)}catch(e){if("AbortError"===e.name)return}})(),()=>{e.abort()}},[c]);const S=t.useCallback(()=>{a(e=>!e)},[]),L=t.useCallback(e=>{o(e)},[]),_=t.useCallback(e=>{d(e),f(!0)},[]),T=t.useCallback(()=>{f(!1)},[]),P=t.useCallback(()=>{C()},[C]),I=t.useMemo(()=>{const e=l.trim().toLowerCase();return e?b.filter(s=>s.name.toLowerCase().includes(e)):b},[b,l]),M=t.useMemo(()=>I.reduce((e,s)=>(e[s.categoryId]||(e[s.categoryId]=[]),e[s.categoryId].push(s),e),{}),[I]);return j||w||N?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-dark",children:e.jsx("div",{className:"text-xl text-white",children:g.loadingData})}):e.jsxs("div",{className:"min-h-screen font-sans text-gray-100 bg-dark",children:[e.jsx(ts,{onMenuToggle:S,onSearch:L,services:b}),e.jsxs("div",{className:"flex min-h-[calc(100vh-64px)]",children:[e.jsx(ns,{categories:v,statusSummary:y}),e.jsx(rs,{isOpen:s,onClose:S,categories:v,statusSummary:y}),e.jsxs("main",{className:"flex-1 pb-12 lg:ml-64",children:[e.jsx(hs,{summary:y,onCheckNow:P,isChecking:E}),e.jsx("div",{className:"container px-4 py-6 mx-auto",children:i&&0===I.length?e.jsxs("div",{className:"py-10 text-center",children:[e.jsxs("p",{className:"mb-2 text-gray-400",children:['No services found matching "',i,'"']}),e.jsx("button",{className:"text-primary hover:text-blue-400",onClick:()=>o(""),children:"Clear search"})]}):v.map(s=>{const t=M[s.id]||[];return 0===t.length?null:e.jsx(ms,{id:s.slug,name:s.name,icon:s.icon,services:t,onServiceClick:_},s.id)})})]})]}),e.jsx(xs,{}),p&&e.jsx(t.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",children:e.jsx("div",{className:"w-8 h-8 border-b-2 border-white rounded-full animate-spin"})}),children:e.jsx(ps,{service:c,history:u,incidents:h,isOpen:p,onClose:T})})]})};function gs({path:s,component:t,adminOnly:a=!1,children:n}){const{user:r,isLoading:i}=Ke();if(i){const t=e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx(z,{className:"w-8 h-8 animate-spin text-primary"})});return s?e.jsx(B,{path:s,children:t}):t}if(!r){const t=e.jsx(W,{to:"/auth"});return s?e.jsx(B,{path:s,children:t}):t}if(a&&r.role!==Je.ADMIN){const t=e.jsx(W,{to:"/"});return s?e.jsx(B,{path:s,children:t}):t}const o=n||t&&e.jsx(t,{});return s?e.jsx(B,{path:s,children:o}):e.jsx(e.Fragment,{children:o})}const vs=()=>{const[s,a]=t.useState({x:0,y:0}),[n,r]=t.useState(!1),[i,o]=t.useState(!1),[l,c]=t.useState(!0),[d,u]=t.useState(!1),{shouldShowCursor:m,isTouchDevice:h,hasMouseLike:x}=(()=>{const[e,s]=t.useState(!1),[a,n]=t.useState(!0),[r,i]=t.useState(!0),[o,l]=t.useState(!1),[c,d]=t.useState(!1),{hasMouseLike:u}=(()=>{const[e,s]=t.useState(!1),[a,n]=t.useState(!1),[r,i]=t.useState(!1);return t.useEffect(()=>{const e=()=>{const e=window.matchMedia("(any-pointer: fine)").matches,t=window.matchMedia("(any-hover: hover)").matches,a=e||t;s(e),n(t),i(a)};e();const t=window.matchMedia("(any-pointer: fine)"),a=window.matchMedia("(any-hover: hover)"),r=t=>{s(t.matches),e()},o=s=>{n(s.matches),e()};return t.addEventListener?(t.addEventListener("change",r),a.addEventListener("change",o)):(t.addListener(r),a.addListener(o)),()=>{t.removeEventListener?(t.removeEventListener("change",r),a.removeEventListener("change",o)):(t.removeListener(r),a.removeListener(o))}},[]),{hasFinePointer:e,canHover:a,hasMouseLike:r,debugInfo:{userAgent:navigator.userAgent,maxTouchPoints:navigator.maxTouchPoints,finePointerQuery:window.matchMedia("(any-pointer: fine)").matches,hoverQuery:window.matchMedia("(any-hover: hover)").matches,coarsePointerQuery:window.matchMedia("(pointer: coarse)").matches}}})(),m=t.useRef(),h=t.useRef(Date.now()),x=t.useCallback(()=>{const t=window.outerHeight-window.innerHeight,a=window.outerWidth-window.innerWidth,n=t>160||a>160;n!==e&&s(n)},[e]),p=t.useCallback(()=>{n(!0)},[]),f=t.useCallback(()=>{n(!1)},[]),g=t.useCallback(()=>{"visible"===document.visibilityState||n(!1)},[]),v=t.useCallback(()=>{const e=Date.now();h.current=e,l(!0),m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{l(!1)},150)},[]),j=t.useCallback(()=>{i(!0),v()},[v]),b=t.useCallback(()=>{i(!1),l(!1)},[]);return t.useEffect(()=>{const e=()=>{const e="ontouchstart"in window||navigator.maxTouchPoints>0,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),t=window.matchMedia&&window.matchMedia("(pointer: coarse)").matches,a=window.matchMedia&&window.matchMedia("(max-width: 768px)").matches;d((e||s||t||a)&&!u)};e();const s=setInterval(x,500);return window.addEventListener("focus",p),window.addEventListener("blur",f),document.addEventListener("visibilitychange",g),window.addEventListener("resize",x),document.addEventListener("mouseenter",j),document.addEventListener("mouseleave",b),document.addEventListener("mousemove",v,{passive:!0}),document.addEventListener("mouseover",v,{passive:!0}),window.addEventListener("orientationchange",e),window.addEventListener("resize",()=>{x(),e()}),x(),e(),()=>{clearInterval(s),window.removeEventListener("focus",p),window.removeEventListener("blur",f),document.removeEventListener("visibilitychange",g),window.removeEventListener("orientationchange",e),window.removeEventListener("resize",x),document.removeEventListener("mouseenter",j),document.removeEventListener("mouseleave",b),document.removeEventListener("mousemove",v),document.removeEventListener("mouseover",v),m.current&&clearTimeout(m.current)}},[x,p,f,g,j,b,v,u]),{isDevToolsOpen:e,isWindowFocused:a,isMouseInside:r,isMouseActive:o,isTouchDevice:c,hasMouseLike:u,shouldShowCursor:u&&"visible"===document.visibilityState&&r&&(a||o||!e)}})(),p=t.useRef(null),f=t.useRef(null),g=t.useRef({x:0,y:0}),v=t.useRef(!0),j=t.useRef(0),b=t.useRef(0),w=t.useRef(0);t.useCallback((e,s)=>e>=-50&&e<=window.innerWidth+50&&s>=-50&&s<=window.innerHeight+50,[]);const[y,N]=t.useState("high");t.useEffect(()=>{let e=0,s=performance.now();const t=()=>{e++;const a=performance.now();if(a-s>=1e3){const t=e;e=0,s=a,N(t<30?"eco":t<50?"balanced":"high")}requestAnimationFrame(t)},a=requestAnimationFrame(t);return()=>cancelAnimationFrame(a)},[]);const k=t.useCallback((e,s)=>{f.current&&(f.current.style.transform=`translate3d(${e-10}px, ${s-10}px, 0)`),a({x:e,y:s})},[]),C=t.useCallback(e=>{k(e.clientX,e.clientY)},[k]),E=t.useCallback(e=>{const s=e.target;if(s.dataset.isClickableChecked){const e="true"===s.dataset.isClickable;return void r(e)}const t=s.matches('button, a, [role="button"], input[type="submit"], select')||!!s.closest('button, a, [role="button"]')||"pointer"===window.getComputedStyle(s).cursor;s.dataset.isClickableChecked="true",s.dataset.isClickable=String(t),r(t)},[]),S=t.useCallback(()=>{v.current=!0},[]),L=t.useCallback(()=>{v.current=!1},[]);t.useEffect(()=>{c(m)},[m]),t.useEffect(()=>{if(h)return;const e=e=>{0===e.button&&(o(!0),u(!0))},s=e=>{0===e.button&&(o(!1),setTimeout(()=>u(!1),100))},t=()=>{const e=window.getSelection(),s=e&&e.toString().length>0;u(!!s)};return document.addEventListener("mousemove",C,{passive:!0,capture:!1}),document.addEventListener("mouseover",E,{passive:!0,capture:!1}),document.addEventListener("mousedown",e,{passive:!0,capture:!1}),document.addEventListener("mouseup",s,{passive:!0,capture:!1}),document.addEventListener("mouseenter",S,{passive:!0,capture:!1}),document.addEventListener("mouseleave",L,{passive:!0,capture:!1}),document.addEventListener("selectionchange",t,{passive:!0,capture:!1}),()=>{document.removeEventListener("mousemove",C),document.removeEventListener("mouseover",E),document.removeEventListener("mousedown",e),document.removeEventListener("mouseup",s),document.removeEventListener("mouseenter",S),document.removeEventListener("mouseleave",L),document.removeEventListener("selectionchange",t),document.querySelectorAll("[data-is-clickable-checked]").forEach(e=>{delete e.dataset.isClickableChecked,delete e.dataset.isClickable}),p.current&&(cancelAnimationFrame(p.current),p.current=null),g.current={x:0,y:0},b.current=0,j.current=0,w.current=0,f.current&&(f.current.style.willChange="auto")}},[C,E,S,L,h]);const _=t.useMemo(()=>!x,[x]),T=t.useMemo(()=>({position:"fixed",left:0,top:0,pointerEvents:"none",zIndex:9999,transform:`translate3d(${s.x-10}px, ${s.y-10}px, 0)`,willChange:"transform",contain:"layout style paint",isolation:"isolate",backfaceVisibility:"hidden",perspective:1e3,transformStyle:"preserve-3d"}),[s.x,s.y]),P=t.useMemo(()=>{const e=[];return n&&e.push("hover"),i&&e.push("clicking"),d&&e.push("selecting"),l||e.push("hidden"),e.join(" ")},[n,i,d,l]);return _?null:e.jsx("div",{ref:f,id:"cursor",className:P,style:T})};class js extends R.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-dark text-gray-100 p-6",children:e.jsxs("div",{className:"max-w-lg w-full border border-border rounded-lg p-6 bg-dark-light",children:[e.jsx("h1",{className:"text-xl font-bold mb-2",children:"Si è verificato un errore"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Ricarica la pagina o torna alla home. Se il problema persiste, segnalalo."}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1 rounded bg-primary text-white",onClick:()=>window.location.reload(),children:"Ricarica"}),e.jsx("a",{href:"/",className:"px-3 py-1 rounded border border-border hover:bg-muted/40",children:"Home"})]})]})}):this.props.children}}const bs=t.lazy(()=>Oe(()=>import("./service-detail-DrBnK-T7.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),ws=t.lazy(()=>Oe(()=>import("./admin-page-B4iVN83z.js"),__vite__mapDeps([8,1,2,3,5,4,6]))),ys=t.lazy(()=>Oe(()=>import("./auth-page-BdKqPmLk.js"),__vite__mapDeps([9,1,2,3,5,4,6,10]))),Ns=t.lazy(()=>Oe(()=>import("./info-page-Cpy4XKsZ.js"),__vite__mapDeps([11,1,2,3,4,5,6]))),ks=t.lazy(()=>Oe(()=>import("./updates-page-zlqzKN-R.js"),__vite__mapDeps([12,1,2,3,4,5,6]))),Cs=t.lazy(()=>Oe(()=>import("./account-dashboard-CjmpTYAV.js"),__vite__mapDeps([13,1,2,3,5,4,6]))),Es=t.lazy(()=>Oe(()=>import("./reset-password-CmcYLMlY.js"),__vite__mapDeps([14,1,2,3,4,6,5]))),Ss=t.lazy(()=>Oe(()=>import("./reset-confirm-uPnic2Vb.js"),__vite__mapDeps([15,1,2,3,4,5,6]))),Ls=t.lazy(()=>Oe(()=>import("./forgot-password-CYyIRJeh.js"),__vite__mapDeps([16,1,2,3,4,5]))),_s=t.lazy(()=>Oe(()=>import("./reset-success-CA4kbQEr.js"),__vite__mapDeps([17,1,2,3,4,5]))),Ts=()=>e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});function Ps(){const[s,a]=t.useState(0);return t.useEffect(()=>{let e=null;const s=()=>{const e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,s=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0,n=Math.max(0,s-t);a(n>0?e/n*100:0)},t=()=>{null===e&&(e=window.requestAnimationFrame(()=>{s(),e=null}))};return window.addEventListener("scroll",t,{passive:!0}),window.addEventListener("resize",t,{passive:!0}),s(),()=>{null!==e&&window.cancelAnimationFrame(e),window.removeEventListener("scroll",t),window.removeEventListener("resize",t)}},[]),e.jsx("div",{className:"fixed top-0 left-0 z-[9999] w-full h-1 bg-background/20 pointer-events-none",children:e.jsx("div",{className:"h-full origin-left transform transition-transform duration-300 ease-out bg-amber-400 shadow-sm pointer-events-none",style:{transform:`scaleX(${s/100})`,width:"100%",willChange:"transform"}})})}function Is(){return e.jsxs(Q,{children:[e.jsx(B,{path:"/",children:()=>e.jsx(fs,{})}),e.jsx(B,{path:"/reset-password",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(Es,{})})}),e.jsx(B,{path:"/reset",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(Ss,{})})}),e.jsx(B,{path:"/forgot-password",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(Ls,{})})}),e.jsx(B,{path:"/reset-success",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(_s,{})})}),e.jsx(B,{path:"/services/:slug",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(bs,{})})}),e.jsx(B,{path:"/admin",children:()=>e.jsx(gs,{adminOnly:!0,children:e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(ws,{})})})}),e.jsx(B,{path:"/account-dashboard",children:()=>e.jsx(gs,{children:e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(Cs,{})})})}),e.jsx(B,{path:"/auth",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(ys,{})})}),e.jsx(B,{path:"/info",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(Ns,{})})}),e.jsx(B,{path:"/updates",children:()=>e.jsx(t.Suspense,{fallback:e.jsx(Ts,{}),children:e.jsx(ks,{})})}),e.jsx(B,{path:"/:rest*",children:()=>e.jsx(Ae,{})})]})}function Ms(){return function(){const[e]=K();t.useEffect(()=>{const s=setTimeout(()=>{"/"===e&&(Oe(()=>import("./auth-page-BdKqPmLk.js"),__vite__mapDeps([9,1,2,3,5,4,6,10])).catch(()=>{}),setTimeout(()=>{Oe(()=>import("./info-page-Cpy4XKsZ.js"),__vite__mapDeps([11,1,2,3,4,5,6])).catch(()=>{})},2e3)),"/"===e&&setTimeout(()=>{Oe(()=>import("./service-detail-DrBnK-T7.js"),__vite__mapDeps([7,1,2,3,4,5,6])).catch(()=>{})},3e3)},1e3);return()=>clearTimeout(s)},[e])}(),e.jsxs(js,{children:[e.jsx(vs,{}),e.jsx(Ps,{}),e.jsx(Is,{}),e.jsx(ye,{})]})}const Ds="undefined"!=typeof window?window.location.hostname:"",Os="serverstatus-control.github.io"===Ds||Ds.endsWith(".onrender.com")?"/siteprova":"";q.createRoot(document.getElementById("root")).render(e.jsx(V,{client:Re,children:e.jsx(Ve,{children:e.jsx(We,{children:e.jsx(U,{base:Os,children:e.jsx(Ms,{})})})})}));export{xs as F,ts as H,rs as M,ns as S,Je as U,os as a,Ke as b,Fe as c,ls as g,Re as q,Qe as u};
